[user]
    name = Tim Hopper
    email = tim@tdhopper.com

[includeIf "gitdir:~/c/"]
    path = ~/.gitconfig-work

[github]
    user = tdhopper

[rerere]
    enabled = true
    autoupdate = true

[maintenance]
    auto = true
    strategy = incremental

[core]
    pager = delta
    excludesfile = /Users/thopper/.gitignore
    editor = vim

[color]
    ui = true

[alias]
    wdiff = diff
    cleanup = "!git branch --merged | grep  -v '\\*\\|main\\|master\\|develop' | xargs -n 1 git branch -d"
    lg = log --max-count=12 --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --
    lgg = log --max-count=24 --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --
    lggg = log --max-count=48 --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)<%an>%Creset' --abbrev-commit --
    co = checkout
    branches = for-each-ref --sort=-committerdate refs/heads/ --format='%(committerdate:short) %(authorname) %(refname:short)'
    aliases = config --get-regexp ^alias\\.
    cm = !git checkout $(git branch -l | grep -E "^\\s*(master|main)$" | sed "s/^\\s*//" | head -n 1)
    pushf = push --force-with-lease
    force-push = push --force-with-lease

[diff]
    tool = cursor
    algorithm = histogram
    colorMoved = default
    colorMovedWS = allow-indentation-change

[difftool "cursor"]
    cmd = cursor --wait --diff $LOCAL $REMOTE

[merge]
    tool = vscode
    conflictStyle = zdiff3

[mergetool "vscode"]
    cmd = code --wait $MERGED

[credential]
    helper = osxkeychain

[commit]
    gpgsign = true

[gpg]
    program = gpg

[help]
    autocorrect = 1

[branch]
    autosetuprebase = always
    autosetupmerge = always

[filter "media"]
    required = true
    clean = git media clean %f
    smudge = git media smudge %f

[push]
    default = current
    autoSetupRemote = true
    useForceIfIncludes = true
    followTags = true

[init]
    defaultBranch = main

[pull]
    rebase = true
    ff = true

[rebase]
    autoStash = true

[interactive]
    singleKey = true
    diffFilter = delta --color-only

# delta: use n/N to move between diff sections
[delta]
    navigate = true
    line-numbers = true
    side-by-side = true
    hyperlinks = true

[filter "lfs"]
    process = git-lfs filter-process
    required = true
    clean = git-lfs clean -- %f
    smudge = git-lfs smudge -- %f

[safe]
    directory = /private/tmp

[gitbutler]
    aiOpenAIKeyOption = bringYourOwn
    aiModelProvider = anthropic

[submodule]
    recurse = true

[status]
    submoduleSummary = true